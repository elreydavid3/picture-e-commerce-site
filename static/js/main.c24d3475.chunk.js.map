{"version":3,"sources":["Context.js","Components/Header.js","hooks/useHover.js","Components/Image.js","Utils/index.js","Pages/Photos.js","Components/CartItem.js","Pages/Cart.js","Components/App.js","index.js"],"names":["Context","React","createContext","ContextProvider","children","useState","allPhotos","setAllPhotos","cartItems","setCartItems","useEffect","fetch","then","res","json","data","Provider","value","toggleFavorite","id","updatedArr","map","photo","isFavorite","addToCart","newItem","prevItems","console","log","removeFromCart","filter","item","emptyCart","Header","useContext","to","length","className","useHover","hovered","setHovered","ref","useRef","enter","leave","current","addEventListener","removeEventListener","Image","img","src","url","alt","onClick","some","getClass","i","Photos","imageElements","key","CartItem","iconClassName","width","Cart","totalPriceDisplay","toLocaleString","style","currency","buttonDisplay","setButtonDisplay","cartItemElements","setTimeout","App","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c24d3475.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\nconst Context = React.createContext()\n\nfunction ContextProvider({children}) {\n\n    const [allPhotos, setAllPhotos] = useState([])\n    const [cartItems, setCartItems] = useState([])\n    \n    \n    const url = \"https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json\"\n\n    useEffect(()=> {\n        fetch(url)\n            .then(res => res.json())\n            .then(data => setAllPhotos(data))\n    }, [])\n\n    function toggleFavorite(id) {\n        const updatedArr = allPhotos.map(photo => {\n            if(photo.id === id) {\n                return {...photo, isFavorite: !photo.isFavorite}\n            }\n            return photo\n        })\n        \n        setAllPhotos(updatedArr)             \n    }\n\n    function addToCart(newItem) {\n        setCartItems(prevItems => [...prevItems, newItem])\n        console.log(cartItems)\n    }\n\n    function removeFromCart(id) {\n        setCartItems(prevItems => prevItems.filter(item => item.id !== id))\n    }\n\n    function emptyCart() {\n        setCartItems([])\n    }\n\n    return(\n        <Context.Provider value={{allPhotos, toggleFavorite, addToCart, cartItems, removeFromCart, emptyCart}}>\n            {children}\n        </Context.Provider>\n        )\n    \n}\n\nexport {ContextProvider, Context}\n","import React, {useContext} from 'react'\nimport {Link} from 'react-router-dom'\nimport {Context} from \"../Context\"\n\nfunction Header(){\n    const {cartItems} = useContext(Context)\n    \n    return(\n        <header>\n            <Link to=\"/\"><h2>Pic Some</h2></Link>\n            <Link to=\"/cart\">\n            { \n                    cartItems.length > 0 ?\n                    <i className=\"ri-shopping-cart-fill ri-fw ri-2x\"></i> :\n                    <i className=\"ri-shopping-cart-line ri-fw ri-2x\"></i>\n                \n                }\n            </Link>\n        </header>\n    )\n}\n\n\nexport default Header","import {useState, useEffect, useRef} from \"react\"\n\nfunction useHover() {\n    const [hovered, setHovered] = useState(false)\n    const ref = useRef(null)\n    \n    function enter() {\n        setHovered(true)\n    }\n    \n    function leave() {\n        setHovered(false)\n    }\n    \n    useEffect(() => {\n        ref.current.addEventListener(\"mouseenter\", enter)\n        ref.current.addEventListener(\"mouseleave\", leave)\n        \n        return () => {    \n            ref.current.removeEventListener(\"mouseenter\", enter)\n            ref.current.removeEventListener(\"mouseleave\", leave)\n        }\n    }, [])\n    \n    return [hovered, ref]\n}\n\nexport default useHover","import React, { useContext} from \"react\"\nimport {Context} from \"../Context\"\nimport PropTypes from \"prop-types\"\nimport useHover from \"../hooks/useHover\"\n\n\nfunction Image({className, img}) {\n\n    const [hovered, ref] = useHover()\n    \n    const {toggleFavorite, addToCart, cartItems, removeFromCart} = useContext(Context)\n    \n    \n    \n    function heartIcon() {\n        if(img.isFavorite) {\n            return <i className=\"ri-heart-fill favorite\" onClick={() => toggleFavorite(img.id)}></i>\n        } else if(hovered) {\n            return <i className=\"ri-heart-line favorite\" onClick={() => toggleFavorite(img.id)}></i>\n        }\n    }\n\n    function cartIcon() {\n        const alreadyInCart = cartItems.some(item => item.id === img.id)\n        if(alreadyInCart) {\n            return <i className=\"ri-shopping-cart-fill cart\" onClick={() => removeFromCart(img.id)}></i>\n        } else if(hovered) {\n            return <i className=\"ri-add-circle-line cart\" onClick={() => addToCart(img)}></i>\n        }\n    }\n\n\n\n    return (\n        <div className={`${className} image-container`} ref={ref} >\n            <img src={img.url} className=\"image-grid\" alt=\"pictures\" />\n            \n            {heartIcon()}\n            {cartIcon()}\n            \n        </div>\n    )\n}\n\nImage.propTypes = {\n    className: PropTypes.string,\n    img: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        url: PropTypes.string.isRequired,\n        isFavorite: PropTypes.bool\n    })\n}\n\nexport default Image\n","export function getClass(i) {\n    if (i % 5 === 0) {\n        return 'big';\n    }\n    else if (i % 6 === 0) {\n        return 'wide'\n    }\n}","import React, {useContext} from 'react'\nimport {Context} from \"../Context\"\nimport Image from \"../Components/Image\"\nimport {getClass} from \"../Utils/index\"\n\nfunction Photos(){\n    const {allPhotos} = useContext(Context)\n\n    const imageElements = allPhotos.map((img, i) => (\n        <Image key={img.id} img={img} className={getClass(i)} />\n    ))\n\n    return(\n        <main className=\"photos\">\n            {imageElements}\n        </main>\n    )\n}\n\n\n\nexport default Photos","import React, { useContext} from \"react\"\nimport {Context} from \"../Context\"\nimport PropTypes from \"prop-types\"\nimport useHover from \"../hooks/useHover\"\n\nfunction CartItem({item}) {\n    \n    const [hovered, ref] = useHover()\n    const {removeFromCart} = useContext(Context)\n    const iconClassName = hovered ? \"ri-delete-bin-fill\" : \"ri-delete-bin-line\"\n    \n    return (\n        <div className=\"cart-item\">\n            <i \n                className={iconClassName} \n                onClick={() => removeFromCart(item.id)}\n                ref={ref}\n            >\n            </i>\n            \n            <img src={item.url} width=\"130px\" />\n            <p>$5.99</p>\n        </div>\n    )\n}\n\nCartItem.propTypes = {\n    item: PropTypes.shape({\n        url: PropTypes.string.isRequired\n    })\n}\n\n\nexport default CartItem\n","import React, {useState, useContext} from \"react\"\nimport {Context} from \"../Context\"\nimport CartItem from \"../Components/CartItem\"\n\nfunction Cart() {\n    const {cartItems, emptyCart} = useContext(Context)\n    const totalPrice = 5.99 * cartItems.length\n    const totalPriceDisplay = totalPrice.toLocaleString(\"en-US\", {style: \"currency\", currency: \"USD\"})\n    const [buttonDisplay, setButtonDisplay] = useState(\"Place Order\")\n    \n    const cartItemElements = cartItems.map(item => (\n        <CartItem key={item.id} item={item} />\n    ))\n    \n    function placeOrder(){\n        setButtonDisplay(\"Ordering...\")\n        setTimeout(() =>{\n            console.log(\"Order placed!\")\n            setButtonDisplay(\"Place Order\")\n            emptyCart()\n        },3000)\n       \n        \n    }\n    return (\n        <main className=\"cart-page\">\n            <h1>Check out</h1>\n            {cartItemElements}\n            <p className=\"total-cost\">Total: {totalPriceDisplay} </p>\n            <div className=\"order-button\">\n                {cartItems.length > 0  ? <button onClick={placeOrder}>{buttonDisplay}</button>:\n                <h2>You have no items in your cart</h2> }\n                \n            </div>\n        </main>\n    )\n}\n\nexport default Cart","import React from 'react'\nimport Header from './Header'\nimport {Switch, Route} from 'react-router-dom'\nimport Photos from '../Pages/Photos'\nimport Cart from '../Pages/Cart'\nimport \"./styles.css\"\n\nfunction App(){\n    return(\n        <div>\n            <Header />\n            \n            <Switch>\n                <Route exact path=\"/\"><Photos /></Route>\n                <Route path=\"/cart\"><Cart /></Route>\n            </Switch>\n        </div>\n    )\n}\n\n\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './Components/App'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {ContextProvider} from \"./Context\"\n\n\n\n\nReactDOM.render(\n    <ContextProvider>\n        <Router>\n            <App/>\n        </Router>\n    </ContextProvider>\n    , \n    document.getElementById(\"root\")\n    )"],"sourceRoot":""}